#
#  Projects controller
#
@application.controller 'ProjectsController', [ 
	'$scope'
	'$routeParams' 
	'ProjectProvider'
	'Project'
	($scope, $routeParams, ProjectProvider, Project) ->
		#
		#  ProjectProvider for managing project
		#
		$scope.Project = ProjectProvider

		#
		#  Cheking if new project or edit
		#
		if $routeParams.id
			#
			#  State for checking
			#
			$scope.isNew = false

			#
			#  Name of current action (New or Edir)
			#
			$scope.action = "<%= lc('actions.edit') %>"

			#
			#  Get project
			#
			$scope.project = $scope.Project.get $routeParams.id
		else
			#
			#  State for checking
			#
			$scope.isNew = true

			#
			#  Name of current action (New or Edir)
			#
			$scope.action = "<%= lc('actions.new') %>"

			#
			#  Set new empty project to scope
			#
			$scope.project = new Project
				name: ""
]